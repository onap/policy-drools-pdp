###
# ============LICENSE_START=======================================================
# policy-management
# ================================================================================
# Copyright (C) 2017 AT&T Intellectual Property. All rights reserved.
# ================================================================================
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# 
#      http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
# ============LICENSE_END=========================================================
###

hostPort = ${{host_port}}

http.server.services=TEST
http.server.services.TEST.host=0.0.0.0
http.server.services.TEST.port=9981
http.server.services.TEST.restClasses=org.openecomp.policy.drools.core.IntegrityMonitorRestManager
http.server.services.TEST.managed=false

# The following were added as part of US673632
#
# Forward Progress Monitor update interval seconds
fp_monitor_interval = ${{fp_monitor_interval}}
# Failed counter threshold before failover 
failed_counter_threshold = ${{failed_counter_threshold}}
# Interval between test transactions when no traffic seconds
test_trans_interval = ${{test_trans_interval}}
# Interval between writes of the FPC to the DB seconds 
write_fpc_interval = ${{write_fpc_interval}}
# Name of the site in which this node is hosted 
site_name = ${{site_name}}
# Node type
# Note: Make sure you don't leave any trailing spaces, or you'll get an 'invalid node type' error! 
node_type = pdp_drools
# Dependency groups are groups of resources upon which a node operational state is dependent upon. 
# Each group is a comma-separated list of resource names and groups are separated by a semicolon.  For example:
dependency_groups=${{dependency_groups}}
# When set to true, dependent health checks are performed by using JMX to invoke test() on the dependent.
# The default false is to use state checks for health.
test_via_jmx=${{test_via_jmx}}
# This is the max number of seconds beyond which a non incrementing FPC is considered a failure
max_fpc_update_interval=${{max_fpc_update_interval}}

# Needed by DroolsPdpsElectionHandler
pdp.checkInterval=7000
pdp.updateInterval=10000
#pdp.timeout=3000
# Need long timeout, because testTransaction is only run every 10 seconds.
pdp.timeout=15000
#how long do we wait for the pdp table to populate on initial startup
pdp.initialWait=20000

# Known as the PDPID in the droolpdpentity table.
#resource.name=pdp1
resource.name=${{resource_name}}

# The amount of this a resource (entity) should sleep between audit executions.
# If not specified, defaults to five seconds.
# -1 turns off audit
# zero forces audit to run continuously
integrity_audit_period_seconds=-1

# Properties needed for repository audit
# Assume it's the releaseRepository that needs to be audited,
# because that's the one BRMGW will publish to.
repository.audit.id=${{releaseRepositoryID}}
repository.audit.url=${{releaseRepositoryUrl}}
repository.audit.username=${{repositoryUsername}}
repository.audit.password=${{repositoryPassword}}

# Flag to control the execution of the subsystemTest for the Database
db.audit.is.active=false

# Flag to control the execution of the subsystemTest for the Nexus Maven repository
repository.audit.is.active=false
repository.audit.ignore.errors=true
