{
  "comments": [
    {
      "key": {
        "uuid": "f1275802_36c96e80",
        "filename": "packages/docker/src/main/docker/Dockerfile",
        "patchSetId": 4
      },
      "lineNbr": 23,
      "author": {
        "id": 477
      },
      "writtenOn": "2020-01-29T17:15:08Z",
      "side": 1,
      "message": "I think in Debian/Ubuntu lower case http_proxy is the one honored by the OS.   I don\u0027t think we need the upper case version.  The format honored by the OS is:\n\nexport http_proxy\u003dhttp://\u003cusername\u003e:\u003cpassword\u003e@\u003cproxy-server\u003e:\u003cproxy-port\u003e",
      "revId": "8a3302be0671fcbad9a7afc9db841ab082a55085",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1d4df857_f3782579",
        "filename": "packages/docker/src/main/docker/Dockerfile",
        "patchSetId": 4
      },
      "lineNbr": 23,
      "author": {
        "id": 159
      },
      "writtenOn": "2020-01-29T17:41:25Z",
      "side": 1,
      "message": "Done. More on this in my next comment.",
      "parentUuid": "f1275802_36c96e80",
      "revId": "8a3302be0671fcbad9a7afc9db841ab082a55085",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f03d139_ab58f7b5",
        "filename": "packages/install/src/files/base.conf",
        "patchSetId": 4
      },
      "lineNbr": 42,
      "author": {
        "id": 477
      },
      "writtenOn": "2020-01-29T17:15:08Z",
      "side": 1,
      "message": "I think we could remove the upper case version .. and we probably should leave them commented out, ie., it would be just an indication for the installer on what to change if they want to use a proxy, ie.\n\n#http_proxy\u003d\n#https_proxy\u003d",
      "revId": "8a3302be0671fcbad9a7afc9db841ab082a55085",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bf681168_e9eb7010",
        "filename": "packages/install/src/files/base.conf",
        "patchSetId": 4
      },
      "lineNbr": 42,
      "author": {
        "id": 159
      },
      "writtenOn": "2020-01-29T17:41:25Z",
      "side": 1,
      "message": "Yeah that is true for http_proxy, however for https_proxy both uppercase and lowercase are respected. Should I still retain only the lowercase for https_proxy? For docker, maven we should be ok with both lower case. Not for curl though, but we don\u0027t use it in any of the tooling scripts. (https://curl.haxx.se/docs/manual.html)\n\nAnd yes I will comment them out as you indicated.",
      "parentUuid": "5f03d139_ab58f7b5",
      "revId": "8a3302be0671fcbad9a7afc9db841ab082a55085",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7b2dcdab_69c46de8",
        "filename": "packages/install/src/files/base.conf",
        "patchSetId": 4
      },
      "lineNbr": 42,
      "author": {
        "id": 477
      },
      "writtenOn": "2020-01-29T18:17:07Z",
      "side": 1,
      "message": "oh ok, in my set up things seem to work ok with all the tooling with http_proxy and https_proxy lower case set up.   In any case, if you don\u0027t need the HTTPS one for your CI toolchain, you could leave them commented out.   In a regular lab install, the user could always go to the base.conf and set them up so they are avaiable at runtime at container initialization if they need to.",
      "parentUuid": "bf681168_e9eb7010",
      "revId": "8a3302be0671fcbad9a7afc9db841ab082a55085",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bfd392b0_415b8bf3",
        "filename": "packages/install/src/files/base.conf",
        "patchSetId": 4
      },
      "lineNbr": 67,
      "author": {
        "id": 477
      },
      "writtenOn": "2020-01-29T17:15:08Z",
      "side": 1,
      "message": "I think we can leave these commented out as well, we want to indicate the installer what variables to change to override current \"onap nexus\" repos.   As an example you could place the actual onap nexus urls that were replaced,\nie.\n\n# MVN_SNAPSHOT_REPO_URL\u003dhttp..onap..nexus..release\n# MVN_RELEASE_REPO_URL\u003dhttp..onap..nexus..snapshot",
      "revId": "8a3302be0671fcbad9a7afc9db841ab082a55085",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "09742cfc_9990e099",
        "filename": "packages/install/src/files/base.conf",
        "patchSetId": 4
      },
      "lineNbr": 67,
      "author": {
        "id": 159
      },
      "writtenOn": "2020-01-29T17:41:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bfd392b0_415b8bf3",
      "revId": "8a3302be0671fcbad9a7afc9db841ab082a55085",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ad1d7640_7dde5780",
        "filename": "policy-management/src/main/server-gen/bin/deploy-artifact",
        "patchSetId": 4
      },
      "lineNbr": 223,
      "author": {
        "id": 477
      },
      "writtenOn": "2020-01-29T17:15:08Z",
      "side": 1,
      "message": "Add check here:\n\nif [[ -z ${http_proxy} ]]; then\n    return 0\nfi",
      "revId": "8a3302be0671fcbad9a7afc9db841ab082a55085",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f8bfa439_51538f3a",
        "filename": "policy-management/src/main/server-gen/bin/deploy-artifact",
        "patchSetId": 4
      },
      "lineNbr": 223,
      "author": {
        "id": 159
      },
      "writtenOn": "2020-01-29T17:41:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ad1d7640_7dde5780",
      "revId": "8a3302be0671fcbad9a7afc9db841ab082a55085",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2f769206_728d44dd",
        "filename": "policy-management/src/main/server-gen/bin/deploy-artifact",
        "patchSetId": 4
      },
      "lineNbr": 225,
      "author": {
        "id": 477
      },
      "writtenOn": "2020-01-29T17:15:08Z",
      "side": 1,
      "message": "If these variables are only used within the function mark them local, ie. \n\nlocal proxyUrl\n\nIn any way don\u0027t think they are needed, see below.",
      "revId": "8a3302be0671fcbad9a7afc9db841ab082a55085",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ad94eef7_abbe0116",
        "filename": "policy-management/src/main/server-gen/bin/deploy-artifact",
        "patchSetId": 4
      },
      "lineNbr": 225,
      "author": {
        "id": 159
      },
      "writtenOn": "2020-01-29T17:41:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2f769206_728d44dd",
      "revId": "8a3302be0671fcbad9a7afc9db841ab082a55085",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "34340473_74059a4e",
        "filename": "policy-management/src/main/server-gen/bin/deploy-artifact",
        "patchSetId": 4
      },
      "lineNbr": 226,
      "author": {
        "id": 477
      },
      "writtenOn": "2020-01-29T17:15:08Z",
      "side": 1,
      "message": "no need the code below, see next comment.",
      "revId": "8a3302be0671fcbad9a7afc9db841ab082a55085",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d558669b_d8e84848",
        "filename": "policy-management/src/main/server-gen/bin/deploy-artifact",
        "patchSetId": 4
      },
      "lineNbr": 226,
      "author": {
        "id": 159
      },
      "writtenOn": "2020-01-29T17:41:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "34340473_74059a4e",
      "revId": "8a3302be0671fcbad9a7afc9db841ab082a55085",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6d198cd7_a9b7b34f",
        "filename": "policy-management/src/main/server-gen/bin/deploy-artifact",
        "patchSetId": 4
      },
      "lineNbr": 242,
      "author": {
        "id": 477
      },
      "writtenOn": "2020-01-29T17:15:08Z",
      "side": 1,
      "message": "delete echo line below",
      "revId": "8a3302be0671fcbad9a7afc9db841ab082a55085",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "75dd74bb_4dec289f",
        "filename": "policy-management/src/main/server-gen/bin/deploy-artifact",
        "patchSetId": 4
      },
      "lineNbr": 242,
      "author": {
        "id": 159
      },
      "writtenOn": "2020-01-29T17:41:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6d198cd7_a9b7b34f",
      "revId": "8a3302be0671fcbad9a7afc9db841ab082a55085",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "27791e50_035b9d8c",
        "filename": "policy-management/src/main/server-gen/bin/deploy-artifact",
        "patchSetId": 4
      },
      "lineNbr": 243,
      "author": {
        "id": 477
      },
      "writtenOn": "2020-01-29T17:15:08Z",
      "side": 1,
      "message": "I think you can simplify using param expansion in bash, this I believe these 4 lines below will do it:\n\nproxy_cred\u003d${http_proxy#*//}\nproxy\u003d${proxy_cred##*@}\nhost\u003d${proxy%%:*}\nport\u003d${proxy##*:}\n\nSee example below, works for the 2 url formats (including the credentials one):\n\n[~] \n[~] http_proxy\u003dhttp://a.proxy.com:8080\n[~] proxy_cred\u003d${http_proxy#*//}\n[~] proxy\u003d${proxy_cred##*@}\n[~] host\u003d${proxy%%:*}\n[~] port\u003d${proxy##*:}\n[~] \n[~] echo \"http_proxy\u003d$http_proxy  proxy\u003d$proxy  host\u003d$host  port\u003d$port\"\nhttp_proxy\u003dhttp://a.proxy.com:8080  proxy\u003da.proxy.com:8080  host\u003da.proxy.com  port\u003d8080\n[~] \n[~] \n[~] http_proxy\u003dhttp://jhh:abcd@a.proxy.com:8080\n[~] proxy_cred\u003d${http_proxy#*//}\n[~] proxy\u003d${proxy_cred##*@}\n[~] host\u003d${proxy%%:*}\n[~] port\u003d${proxy##*:}\n[~]\n\nIn the final version of the script mark them local, ie:\nlocal proxy_cred proxy host port\n\nYou can also set MVN_PROXY_SETTINGS directly in this function:\n\nMVN_PROXY_SETTINGS\u003d\"-DproxyHost\u003d${host} -DproxyPort\u003d${port}\"\n\nso it is globally visible in this shell",
      "revId": "8a3302be0671fcbad9a7afc9db841ab082a55085",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b98891e7_ccafc89b",
        "filename": "policy-management/src/main/server-gen/bin/deploy-artifact",
        "patchSetId": 4
      },
      "lineNbr": 243,
      "author": {
        "id": 159
      },
      "writtenOn": "2020-01-29T17:41:25Z",
      "side": 1,
      "message": "Thank you Jorge for your feedback and detailed explanation. I am not very good at bash scripting, so this is very helpful. It is way more concise and cleaner to use parameter expansion. I will make the changes and test it out.",
      "parentUuid": "27791e50_035b9d8c",
      "revId": "8a3302be0671fcbad9a7afc9db841ab082a55085",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d6548ef5_aedb88d1",
        "filename": "policy-management/src/main/server-gen/bin/deploy-artifact",
        "patchSetId": 4
      },
      "lineNbr": 243,
      "author": {
        "id": 477
      },
      "writtenOn": "2020-01-29T18:17:07Z",
      "side": 1,
      "message": "Not a problem!  bash shell scripting is not the most intuitive.   After this you\u0027d be an expert ;).",
      "parentUuid": "b98891e7_ccafc89b",
      "revId": "8a3302be0671fcbad9a7afc9db841ab082a55085",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ac6e571_a5e82c60",
        "filename": "policy-management/src/main/server-gen/bin/deploy-artifact",
        "patchSetId": 4
      },
      "lineNbr": 572,
      "author": {
        "id": 477
      },
      "writtenOn": "2020-01-29T17:15:08Z",
      "side": 1,
      "message": "see my previous comment, simply call here:\n\ngetMavenProxyArgs",
      "revId": "8a3302be0671fcbad9a7afc9db841ab082a55085",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}